(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const w=document.querySelector("#joke-text"),B=document.getElementById("joke-btn"),q="https://icanhazdadjoke.com";function $(t,e){const n=t;let a=1;o();function o(){e.textContent=n.slice(0,a),a++,a<=n.length&&setTimeout(o,80)}}const C=async t=>{const n=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if(n.status===200){const a=await n.json();console.log(a),$(a.joke,w)}};C(q);B.onclick=()=>{C(q)};const L=document.getElementById("task-container"),i=()=>{localStorage.setItem("tasks",L.innerHTML)},j=()=>{L.innerHTML=localStorage.getItem("tasks")},y=t=>{document.querySelector("header").style.backgroundColor=t,document.querySelector("#joke .container").style.backgroundColor=t,document.querySelector("#joke .container").style.color=t,document.querySelectorAll("main section .container").forEach(e=>e.style.borderColor=t),document.querySelectorAll("section#count-time .container .time-buttons button").forEach(e=>e.style.backgroundColor=t),document.querySelector("section#count-time .container").style.borderColor=t,document.querySelector("section#tasks .container").style.borderColor=t,document.querySelector("#task-input").style.backgroundColor=t,document.querySelector("#task-input").style.opacity=".6",document.querySelector("#task-add-btn").style.backgroundColor=t,document.querySelector(".active-task p").style.color=t,document.querySelectorAll("section#count-time .container .time-buttons button").forEach(e=>e.style.color="white"),document.querySelector("header").style.color="white"},O=()=>{document.querySelectorAll("#task-container li").forEach(e=>{e.querySelector("#color-input").value=localStorage.getItem(e.getAttribute("data-task"))})};let A;function _(t){this.classList.add("dragging"),A=[...document.querySelectorAll(".draggable")].indexOf(this)}function N(){this.classList.remove("dragging"),i()}function P(t){t.preventDefault()}function D(){this.classList.add("over")}function F(){this.classList.remove("over"),i()}function G(t){console.log("drop event");let n=[...document.querySelectorAll(".draggable")].indexOf(this);M(A,n),this.classList.remove("over"),i()}function M(t,e,n){let a=[...document.querySelectorAll(".draggable")];[a[t],a[e]]=[a[e],a[t]];const o=document.querySelector("#task-container");o.textContent="",a.forEach(r=>{o.appendChild(r)}),console.log(a)}const x=()=>{const t=document.querySelectorAll(".draggable");document.querySelector("#task-container"),t.forEach(e=>{e.addEventListener("dragstart",_),e.addEventListener("dragend",N),e.addEventListener("dragover",P),e.addEventListener("drop",G),e.addEventListener("dragenter",D),e.addEventListener("dragleave",F)})},f=document.getElementById("start-btn"),m=document.getElementById("stop-btn"),b=document.getElementById("reset-btn"),H=document.getElementById("minute"),J=document.getElementById("second"),K=document.querySelector(".active-task p"),h=document.getElementById("task-container");let k,l=25,c=0,u=0;const Y=()=>{if(c--,c==-1&&(l--,c=59),l==-1){console.log("over"),Swal.fire("Time is over!"),m.click(),h.querySelectorAll("li").forEach(t=>{t.classList.contains("active")&&(t.setAttribute("data-task-pomo",Number(t.getAttribute("data-task-pomo"))+1),t.querySelector(".pomo-span").textContent++,t.setAttribute("data-task-time","00:00"),t.querySelector(".task-time").textContent="00:00")}),i(),clearInterval(k),l=25,c=0,console.log(`${u} : ${l} : ${c}`),v(u,l,c),f.disabled=!1,m.diabled=!0;return}console.log(`${u} : ${l} : ${c}`),v(u,l,c)},v=(t,e,n)=>{let a=n<10?"0"+n:n,o=e<10?"0"+e:e;H.textContent=o,J.textContent=a},z=()=>{if(K.textContent.length==0){Swal.fire("You should select a task!");return}h.querySelector("li.active").classList.contains("checked")&&Swal.fire("You are performing a finished task!!!"),k=setInterval(Y,1e3),f.disabled=!0,m.disabled=!1,b.disabled=!0,document.querySelector("header").style.backgroundColor="black",document.querySelector("header").style.color="white",document.querySelector("#joke .container").style.backgroundColor="black",document.querySelector("#joke .container").style.color="white",document.querySelector("main section .container").style.borderColor="black",document.querySelectorAll("section#count-time .container .time-buttons button").forEach(t=>t.style.backgroundColor="black"),document.querySelectorAll("section#count-time .container .time-buttons button").forEach(t=>t.style.color="white"),document.querySelector("section#count-time .container").style.borderColor="black",document.querySelector("section#tasks").style.display="none",document.getElementById("click-sound").play()},R=()=>{k=clearInterval(k),f.disabled=!1,m.diabled=!0,b.disabled=!1,document.querySelector("section#tasks").style.display="block";const t=[...document.querySelectorAll("li")].filter(n=>n.classList.contains("active"))[0].querySelector("#color-input").value;y(t);const e=l==25?"00:00":`${24-l<10?"0"+(24-l):24-l}:${60-c<10?"0"+(60-c):60-c}`;console.log("countedTime =",e),h.querySelectorAll("li").forEach(n=>{n.classList.contains("active")&&(n.setAttribute("data-task-time",e),n.querySelector(".task-time").textContent=e)}),document.getElementById("click-sound").play(),i()},U=()=>{l=25,c=0,v(u,l,c)};f.addEventListener("click",z);m.addEventListener("click",R);b.addEventListener("click",U);document.querySelector(".welcome p");document.querySelector(".welcome p span");document.querySelector("#count-time .container");const d=document.getElementById("task-input");d.focus();const I=document.getElementById("task-add-btn"),T=document.getElementById("task-container"),g=document.querySelector(".active-task p");I.addEventListener("click",()=>{if(!d.value.trim())return;const t=d.value.trim();let e=document.createElement("li");e.setAttribute("data-task",t),e.setAttribute("draggable",!0),e.setAttribute("data-task-pomo",0),e.classList.add("draggable");let n=document.createElement("p");n.textContent=t,e.appendChild(n);let a=document.createElement("span");a.classList.add("checkbox"),e.appendChild(a);let o=document.createElement("span");o.textContent="✘",o.classList.add("delete"),e.appendChild(o);let r=document.createElement("span");r.textContent="📝",r.classList.add("edit-span"),e.appendChild(r);let s=document.createElement("span");s.classList.add("task-time"),s.textContent="00:00",e.appendChild(s);let S=document.createElement("span");S.classList.add("pomo-span"),S.textContent="0",e.appendChild(S);let E=document.createElement("span");E.classList.add("color-span");let p=document.createElement("input");p.type="color",p.id="color-input",p.value="#74abb9",E.appendChild(p),e.appendChild(E),T.appendChild(e),localStorage.setItem(t,"#74abb9"),d.value="",d.focus(),x(),i()});d.addEventListener("keydown",t=>{t.keyCode==13&&I.click()});T.addEventListener("click",t=>{if(t.target.className=="delete")t.target.parentElement.remove(),g.textContent="",localStorage.removeItem(`${t.target.closest("li").getAttribute("data-task")}`);else if(t.target.className=="edit-span")V(t);else if(t.target.className=="checkbox")t.target.textContent.length==0?t.target.textContent="✔︎":t.target.textContent="",t.target.parentElement.classList.toggle("checked");else if(t.target.tagName=="LI"){t.target.parentElement.querySelectorAll("li").forEach(n=>{n.classList.remove("active")}),t.target.classList.add("active"),g.textContent=t.target.getAttribute("data-task")??"-";const e=t.target.querySelector("#color-input").value;y(e)}else if(t.target.tagName=="P"){t.target.parentElement.parentElement.querySelectorAll("li").forEach(n=>{n.classList.remove("active")}),t.target.parentElement.classList.add("active"),g.textContent=t.target.parentElement.getAttribute("data-task")??"-";const e=t.target.parentElement.querySelector("#color-input").value;y(e)}i()});const V=async t=>{const{value:e}=await Swal.fire({input:"textarea",inputLabel:"Edit your Task!",inputPlaceholder:t.target.parentElement.querySelector("p").textContent,inputAttributes:{"aria-label":"nevar"},showCancelButton:!0});if(e)Swal.fire("Success!!");else{Swal.fire("Cancelled!!");return}console.log(e),t.target.parentElement.querySelector("p").textContent=e,t.target.parentElement.setAttribute("data-task",e),t.target.parentElement.classList.contains("active")&&(g.textContent=e)},W=document.getElementById("task-container"),Q=document.querySelector(".active-task p");j();x();const X=document.querySelectorAll("#task-container li");X.forEach(t=>{t.classList.contains("active")&&(console.log(t),Q.textContent=t.getAttribute("data-task"))});document.querySelectorAll(".color-span input");W.addEventListener("input",function(t){t.target.id=="color-input"&&localStorage.setItem(`${t.target.closest("li").getAttribute("data-task")}`,t.target.value),t.target.closest("li").classList.contains("active")&&(console.log(t.target.value),y(t.target.value))});O();
